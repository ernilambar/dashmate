{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "Dashboard Schema",
	"description": "Schema for a dashboard layout with widgets",
	"type": "object",
	"required": [ "layout", "widgets", "column_widgets" ],
	"properties": {
		"$schema": {
			"type": "string",
			"description": "Link to the JSON Schema for VS Code validation"
		},
		"layout": {
			"type": "object",
			"required": [ "columns" ],
			"properties": {
				"columns": {
					"type": "array",
					"items": {
						"type": "object",
						"required": [ "id", "order", "width" ],
						"properties": {
							"id": {
								"type": "string",
								"pattern": "^col-\\d+$"
							},
							"order": {
								"type": "integer",
								"minimum": 1
							},
							"width": {
								"type": "string",
								"pattern": "^\\d{1,3}(\\.\\d{1,2})?%$"
							}
						},
						"additionalProperties": false
					}
				}
			},
			"additionalProperties": false
		},
		"widgets": {
			"type": "array",
			"items": {
				"type": "object",
				"required": [ "id", "column_id" ],
				"properties": {
					"id": {
						"type": "string",
						"pattern": "^[a-z-]+[a-z0-9-]*$"
					},
					"column_id": {
						"type": "string",
						"pattern": "^col-\\d+$"
					},
					"settings": {
						"type": "object",
						"additionalProperties": true
					}
				},
				"additionalProperties": false
			}
		},
		"column_widgets": {
			"type": "object",
			"patternProperties": {
				"^col-\\d+$": {
					"type": "array",
					"items": {
						"type": "string",
						"pattern": "^[a-z-]+[a-z0-9-]*$"
					}
				}
			},
			"additionalProperties": false
		}
	},
	"additionalProperties": false
}
